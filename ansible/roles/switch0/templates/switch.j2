## Config generated by Ansible and Jinja2

hostname {{item.hostname}}
vtp mode transparent
spanning-tree mode rapid-pvst
udld enable
errdisable recovery cause all
port-channel load-balance src-dst-ip
ip name-server {{item.nameserver}}
no ip http server
ip http secure-server

snmp-server community {{item.snmp1}} RO
snmp-server community {{item.snmp2}} RW

ntp server {{item.ntpserver}}
ntp update-calendar

clock timezone {{item.timezone}}
clock summer-time EST recurring
service timestamps debug datetime msec localtime 
service timestamps log datetime msec localtime

vlan 20
 name {{item.vlan20}}
vlan 10
 name {{item.vlan10}}

ip dhcp snooping vlan 20,10

no ip dhcp snooping information option 
ip dhcp snooping
ip arp inspection vlan 20,10
spanning-tree portfast bpduguard default
ipv6 nd raguard policy HOST_POLICY 
 device-role host

interface range GigabitEthernet 0/1 - 3, gi1/0 - 3, gi2/0 - 3, gi3/0 - 3
 switchport
 switchport mode access
 switchport access vlan 20
 switchport voice vlan 10
 switchport host
 switchport port-security maximum 2 
 switchport port-security
 switchport port-security aging time 2
 switchport port-security aging type inactivity 
 switchport port-security mac-add sticky 
 ip arp inspection limit rate 100
 ip dhcp snooping limit rate 100
 ip verify source
 ipv6 nd raguard attach-policy HOST_POLICY